/*! For license information please see main.82e7f996.chunk.js.LICENSE.txt */
(this["webpackJsonplinkage-react"]=this["webpackJsonplinkage-react"]||[]).push([[0],{24:function(e,r,t){},29:function(e,r,t){"use strict";t.r(r);var s=t(1),a=t(3),l=t(14),i=t(9),o=t(16),n=t(15),c=t(0),d=t.n(c),u=t(10),f=t.n(u),h=t(44),m=(t(24),t(5)),p=t(8);function v(e){var r=[e.length+2,e[0].length+2];return{fields:[r,r],color:0}}function g(e,r,t){for(var s=[],a=0,l=0,i=0;i<e.length;i++){for(var o=0;o<e.length;o++){var n={fields:[[null,null],[null,null]],color:null};if(n.fields[0][0]=a,n.fields[0][1]=l,n.fields[1][0]=a,n.fields[1][1]=l+1,_(n,e)&&y(n,r))for(var c=0,d=Object.entries(t);c<d.length;c++){var u=Object(p.a)(d[c],2),f=u[0];u[1]>0&&(n.color=f,s.push(JSON.parse(JSON.stringify(n))))}if(n.fields[1][0]=a+1,n.fields[1][1]=l,_(n,e)&&y(n,r))for(var h=0,m=Object.entries(t);h<m.length;h++){var v=Object(p.a)(m[h],2),g=v[0];v[1]>0&&(n.color=g,s.push(JSON.parse(JSON.stringify(n))))}l++}l=0,a++}return s}function b(e){var r,t=Array.from(Array(e.length),(function(){return new Array(e.length).fill(!1)})),s=[],a=0,l=0,i=0,o=Object(m.a)(e);try{for(o.s();!(r=o.n()).done;){var n,c=r.value,d=Object(m.a)(c);try{for(d.s();!(n=d.n()).done;){var u=n.value;if(!1===t[a][l]&&null!==u&&u!==e.length){s.push([a,l]);var f=u;for(++i;0!==s.length;){var h=s.pop();h[1]<c.length-1&&e[h[0]][h[1]+1]===f&&!1===t[h[0]][h[1]+1]&&s.push([h[0],h[1]+1]),h[1]>0&&e[h[0]][h[1]-1]===f&&!1===t[h[0]][h[1]-1]&&s.push([h[0],h[1]-1]),h[0]<e.length-1&&e[h[0]+1][h[1]]===f&&!1===t[h[0]+1][h[1]]&&s.push([h[0]+1,h[1]]),h[0]>0&&e[h[0]-1][h[1]]===f&&!1===t[h[0]-1][h[1]]&&s.push([h[0]-1,h[1]]),t[h[0]][h[1]]=!0}}++l}}catch(p){d.e(p)}finally{d.f()}l=0,++a}}catch(p){o.e(p)}finally{o.f()}return i-1}function j(e){var r,t=0,s=0,a=Object(m.a)(e);try{for(a.s();!(r=a.n()).done;){var l,i=r.value,o=Object(m.a)(i);try{for(o.s();!(l=o.n()).done;){if(null==l.value){if(t<e.length-1&&null==e[t+1][s])return!1;if(s<i.length-1&&null==e[t][s+1])return!1}++s}}catch(n){o.e(n)}finally{o.f()}s=0,++t}}catch(n){a.e(n)}finally{a.f()}return!0}function _(e,r){if((e.fields[0][0]!==e.fields[1][0]+1&&e.fields[0][0]!==e.fields[1][0]-1||e.fields[0][1]!==e.fields[1][1])&&(e.fields[0][1]!==e.fields[1][1]+1&&e.fields[0][1]!==e.fields[1][1]-1||e.fields[0][0]!==e.fields[1][0]))return!1;var t,s=Object(m.a)(e.fields);try{for(s.s();!(t=s.n()).done;){var a=t.value;if(a[0]<0||a[0]>=r.length||a[1]<0||a[1]>=r.length)return!1;if(null!=r[a[0]][a[1]])return!1}}catch(l){s.e(l)}finally{s.f()}return!0}function O(e,r,t,s){var a=g(r,t,s);if(function(e,r,t,s){var a,l=Object(m.a)(e);try{for(l.s();!(a=l.n()).done;){var i=a.value,o=JSON.parse(JSON.stringify(r));k(i,o),i.rank=.01*g(o,i,t).length;var n=b(o);if(i.rank+=20*n,1===t[i.color]&&("More"===s?i.rank+=10:i.rank-=10),t[i.color]>2){for(var c=[],d=0,u=0,f=0;f<r.length;f++){for(var h=0;h<r.length;h++){var p=JSON.parse(JSON.stringify(v(o)));p.color=i.color,p.fields[0][0]=d,p.fields[0][1]=u,p.fields[1][0]=d,p.fields[1][1]=u+1,_(p,o)&&c.push(JSON.parse(JSON.stringify(p))),p.fields[1][0]=d+1,p.fields[1][1]=u,_(p,o)&&c.push(JSON.parse(JSON.stringify(p))),u++}u=0,d++}for(var j=0,O=0,y=c;O<y.length;O++){var S=y[O],N=JSON.parse(JSON.stringify(o));k(S,N),b(N)<n&&++j,N=null}i.rank-=5*j}}}catch(C){l.e(C)}finally{l.f()}}(a,r,s,"More"),0===a.length)return null;var l,i=a[0].rank,o=Object(m.a)(a);try{for(o.s();!(l=o.n()).done;){var n=l.value;("More"===e&&n.rank>i||"Less"===e&&n.rank<i)&&(i=n.rank)}}catch(j){o.e(j)}finally{o.f()}var c,d,u,f=[],h=Object(m.a)(a);try{for(h.s();!(c=h.n()).done;){var p=c.value;p.rank===i&&f.push(JSON.parse(JSON.stringify(p)))}}catch(j){h.e(j)}finally{h.f()}return f[(d=0,u=f.length,d=Math.ceil(d),u=Math.floor(u),Math.floor(Math.random()*(u-d)+d))]}function y(e,r){if(null==r.color)return!0;var t,s=Object(m.a)(e.fields);try{for(s.s();!(t=s.n()).done;){var a=t.value;if((a[0]===r.fields[0][0]+1||a[0]===r.fields[0][0]-1)&&a[1]===r.fields[0][1]||(a[0]===r.fields[1][0]+1||a[0]===r.fields[1][0]-1)&&a[1]===r.fields[1][1])return!1;if((a[1]===r.fields[0][1]+1||a[1]===r.fields[0][1]-1)&&a[0]===r.fields[0][0]||(a[1]===r.fields[1][1]+1||a[1]===r.fields[1][1]-1)&&a[0]===r.fields[1][0])return!1}}catch(l){s.e(l)}finally{s.f()}return!0}function k(e,r){r[e.fields[0][0]][e.fields[0][1]]=e.color,r[e.fields[1][0]][e.fields[1][1]]=e.color}function S(e){var r={null:"gainsboro",C:"grey",W:"white",Y:"yellow",R:"red",B:"blue",X:"black",O:"white"},t={background:r[e.color]},a={border:null!=e.selected?"2px solid "+r[e.selected]:"2px solid transparent"},l=Object(s.jsx)("div",{className:"selected-square",style:a});return Object(s.jsx)("button",{className:"square",onClick:e.onClick,style:t,children:l})}var N=function(e){Object(o.a)(t,e);var r=Object(n.a)(t);function t(e){var s;Object(l.a)(this,t),s=r.call(this,e);var a=Array.from(Array(7),(function(){return new Array(7).fill(null)}));return a[3][3]="C",s.state={gameboard:a,colorpieces:{W:6,Y:6,R:6,B:6},move_stage:{selected_color:null,placement:{i:null,j:null}},previous_move:{fields:[[null,null],[null,null]],color:null},more_is_next:!0,game_mode:!1,computer_side:!1,winner:null,turn_skipped:!1,player_skips:!1,computer_skips:!1},s}return Object(i.a)(t,[{key:"handleClick",value:function(e,r){if(null==this.state.winner&&void 0!==r){if("C"===this.state.gameboard[e][r])return;if(null==this.state.gameboard[e][r])if(null==this.state.move_stage.placement.i)this.setState({move_stage:{selected_color:this.state.move_stage.selected_color,placement:{i:e,j:r}}});else{var t=JSON.parse(JSON.stringify(this.state.previous_move)),s=JSON.parse(JSON.stringify(this.state.previous_move));t.fields=[[this.state.move_stage.placement.i,this.state.move_stage.placement.j],[e,r]],t.color=this.state.move_stage.selected_color,_(t,this.state.gameboard)&&y(t,s)?this.playerMove(t):console.log("Placement invalid!"),this.resetMoveStage()}}else void 0===r&&this.state.colorpieces[e]>0&&this.setState({move_stage:{selected_color:e,placement:{i:null,j:null}}})}},{key:"resetMoveStage",value:function(){this.setState({move_stage:{selected_color:null,placement:{i:null,j:null}}})}},{key:"renderColorpickerSquare",value:function(e){var r=this;return Object(s.jsx)(S,{color:e,selected:this.state.move_stage.selected_color===e?"X":null,onClick:function(){return r.handleClick(e)}})}},{key:"renderGameModeSwitches",value:function(){var e,r,t=this,l={"font-weight":"bold",color:"black"},i={"font-weight":"normal",color:"black"},o={"font-weight":"normal",color:"grey"},n=this.state.game_mode,c=this.state.computer_side?"More":"Less",d=function(e){var r;t.setState((r={},Object(a.a)(r,e.target.name,e.target.checked),Object(a.a)(r,"move_stage",{selected_color:null,placement:{i:null,j:null}}),r)),"game_mode"===e.target.name?e.target.checked?(t.state.game_mode=!0,"More"===c===t.state.more_is_next&&t.computerMoveRecursive(JSON.parse(JSON.stringify(t.state)))):t.state.game_mode=!1:"computer_side"===e.target.name&&(t.state.computer_side=e.target.checked,e.target.checked===t.state.more_is_next&&t.computerMoveRecursive(JSON.parse(JSON.stringify(t.state))))};return Object(s.jsxs)("div",{className:"switch-box",children:[Object(s.jsxs)("div",(e={className:"game-mode"},Object(a.a)(e,"className","game-mode-left"),Object(a.a)(e,"children",[Object(s.jsx)("p",{className:"game-mode",style:n?i:l,children:"Two Player"}),Object(s.jsx)(h.a,{name:"game_mode",disabled:null!=this.state.winner,color:"grey",onChange:d}),Object(s.jsx)("p",{className:"game-mode",style:n?l:i,children:"Single Player"})]),e)),Object(s.jsxs)("div",(r={className:"game-mode"},Object(a.a)(r,"className","game-mode-right"),Object(a.a)(r,"children",[Object(s.jsx)("p",{className:"game-mode",style:n?"Less"===c?l:i:o,children:"More"}),Object(s.jsx)(h.a,{name:"computer_side",disabled:!n||null!=this.state.winner,color:"grey",onChange:d}),Object(s.jsx)("p",{className:"game-mode",style:n?"More"===c?l:i:o,children:"Less"})]),r))]})}},{key:"computerMoveRecursive",value:function(e){if(!this.state.game_mode)return null;for(var r=this.state.computer_side?"More":"Less",t=e.more_is_next,s=!1;t===e.more_is_next&&!s;){console.log("Hello");var a=O(r,e.gameboard,e.previous_move,e.colorpieces);k(a,e.gameboard),e.colorpieces[a.color]-=1;var l=g(e.gameboard,a,e.colorpieces);if((s=j(e.gameboard))||0!==l.length)if(s){var i=b(e.gameboard);e.winner=i<12?"Less":"More"}else e.more_is_next=!e.more_is_next,e.previous_move=a;else e.previous_move=v(e.gameboard),e.player_skips=!0;this.setState(e)}}},{key:"playerMove",value:function(e){var r=JSON.parse(JSON.stringify(this.state));r.player_skips=!1,k(e,r.gameboard),r.colorpieces[e.color]-=1;var t=g(r.gameboard,e,r.colorpieces),s=j(r.gameboard);if(s||0!==t.length)if(s){var a=b(r.gameboard);r.winner=a<12?"Less":"More"}else r.more_is_next=!r.more_is_next,r.previous_move=e,r.game_mode&&this.computerMoveRecursive(r);else r.previous_move=v(r.gameboard),r.computer_skips=r.game_mode;this.setState(r)}},{key:"renderGameboardSquare",value:function(e,r){var t=this,a=null;return this.state.move_stage.placement.i===e&&this.state.move_stage.placement.j===r&&(a=this.state.move_stage.selected_color),Object(s.jsx)(S,{color:this.state.gameboard[e][r],selected:a,onClick:function(){return t.handleClick(e,r)}})}},{key:"render",value:function(){var e="",r=this.state.game_mode,t=this.state.computer_side?"More":"Less";if(null==this.state.winner)r?(e="Computer plays for "+t+". ",this.state.computer_skips&&(e+="Player goes again!"),this.state.player_skips&&(e+="Player skips a turn(s).")):e=this.state.turn_skipped?"Player "+(this.state.more_is_next?"More":"Less")+" goes again!":"Next Player: "+(this.state.more_is_next?"More":"Less");else{var a=b(this.state.gameboard);e=r?a<12?"Less"===t?"Computer wins for Less! ":"Player "+this.state.winner+" wins! ":"More"===t?"Computer wins for More! ":"Player "+this.state.winner+" wins! ":"Player "+this.state.winner+" wins! ",e+="Number of groups: "+a}for(var l=[],i=0;i<7;i++){for(var o=[],n=0;n<7;n++)o.push(this.renderGameboardSquare(i,n));l.push(Object(s.jsx)("div",{className:"board-row",children:o}))}return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"status",children:e}),Object(s.jsx)("div",{className:"game-board",children:l}),Object(s.jsxs)("div",{className:"colorpicker",children:[this.state.colorpieces.Y?this.renderColorpickerSquare("Y"):this.renderColorpickerSquare("C"),this.state.colorpieces.Y?this.renderColorpickerSquare("Y"):this.renderColorpickerSquare("C")]}),Object(s.jsxs)("div",{className:"colorpicker",children:[this.state.colorpieces.W?this.renderColorpickerSquare("W"):this.renderColorpickerSquare("C"),this.state.colorpieces.W?this.renderColorpickerSquare("W"):this.renderColorpickerSquare("C")]}),Object(s.jsxs)("div",{className:"colorpicker",children:[this.state.colorpieces.R?this.renderColorpickerSquare("R"):this.renderColorpickerSquare("C"),this.state.colorpieces.R?this.renderColorpickerSquare("R"):this.renderColorpickerSquare("C")]}),Object(s.jsxs)("div",{className:"colorpicker",children:[this.state.colorpieces.B?this.renderColorpickerSquare("B"):this.renderColorpickerSquare("C"),this.state.colorpieces.B?this.renderColorpickerSquare("B"):this.renderColorpickerSquare("C")]}),this.renderGameModeSwitches()]})}}]),t}(d.a.Component),C=function(e){Object(o.a)(t,e);var r=Object(n.a)(t);function t(){return Object(l.a)(this,t),r.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"game",children:Object(s.jsx)(N,{})})}}]),t}(d.a.Component);f.a.render(Object(s.jsx)(C,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.82e7f996.chunk.js.map