/*! For license information please see main.e8886956.chunk.js.LICENSE.txt */
(this["webpackJsonplinkage-react"]=this["webpackJsonplinkage-react"]||[]).push([[0],{16:function(e,t,r){},17:function(e,t,r){"use strict";r.r(t);var s=r(0),l=r(5),i=r(6),n=r(9),a=r(7),o=r(2),c=r.n(o),u=r(10),d=r.n(u),h=(r(16),r(1)),f=r(8);function v(e,t){if((e.fields[0][0]!==e.fields[1][0]+1&&e.fields[0][0]!==e.fields[1][0]-1||e.fields[0][1]!==e.fields[1][1])&&(e.fields[0][1]!==e.fields[1][1]+1&&e.fields[0][1]!==e.fields[1][1]-1||e.fields[0][0]!==e.fields[1][0]))return!1;var r,s=Object(h.a)(e.fields);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(l[0]<0||l[0]>=t.length||l[1]<0||l[1]>=t[0].length)return!1;if(null!=t[l[0]][l[1]])return!1}}catch(i){s.e(i)}finally{s.f()}return!0}function p(e,t){if(null==t.color)return!0;var r,s=Object(h.a)(e.fields);try{for(s.s();!(r=s.n()).done;){var l=r.value;if((l[0]===t.fields[0][0]+1||l[0]===t.fields[0][0]-1)&&l[1]===t.fields[0][1]||(l[0]===t.fields[1][0]+1||l[0]===t.fields[1][0]-1)&&l[1]===t.fields[1][1])return!1;if((l[1]===t.fields[0][1]+1||l[1]===t.fields[0][1]-1)&&l[0]===t.fields[0][0]||(l[1]===t.fields[1][1]+1||l[1]===t.fields[1][1]-1)&&l[0]===t.fields[1][0])return!1}}catch(i){s.e(i)}finally{s.f()}return!0}function m(e){var t={null:"gainsboro",C:"grey",W:"white",Y:"yellow",R:"red",B:"blue",X:"black",O:"white"},r={background:t[e.color]},l={border:null!=e.selected?"2px solid "+t[e.selected]:"2px solid transparent"},i=Object(s.jsx)("div",{className:"selected-square",style:l});return Object(s.jsx)("button",{className:"square",onClick:e.onClick,style:r,children:i})}var g=function(e){Object(n.a)(r,e);var t=Object(a.a)(r);function r(e){var s;Object(l.a)(this,r),s=t.call(this,e);var i=Array.from(Array(7),(function(){return new Array(7).fill(null)}));return i[3][3]="C",s.state={gameboard:i,colorpieces:{W:6,Y:6,R:6,B:6},move_stage:{selected_color:null,placement:{i:null,j:null}},previous_move:{fields:[[null,null],[null,null]],color:null},more_is_next:!0,winner:null,game_ended:!1,turn_skipped:!1},s}return Object(i.a)(r,[{key:"handleClick",value:function(e,t){if(null==this.state.winner&&void 0!==t){if("C"===this.state.gameboard[e][t])return;if(null==this.state.gameboard[e][t])if(null==this.state.move_stage.placement.i)this.setState({move_stage:{selected_color:this.state.move_stage.selected_color,placement:{i:e,j:t}}});else{var r=this.state.gameboard.slice(),s=JSON.parse(JSON.stringify(this.state.previous_move)),l=JSON.parse(JSON.stringify(this.state.previous_move));if(s.fields=[[this.state.move_stage.placement.i,this.state.move_stage.placement.j],[e,t]],s.color=this.state.move_stage.selected_color,v(s,r)&&p(s,l)){r[this.state.move_stage.placement.i][this.state.move_stage.placement.j]=this.state.move_stage.selected_color,r[e][t]=this.state.move_stage.selected_color;var i=this.state.colorpieces;i[this.state.move_stage.selected_color]-=1;var n=function(e,t,r){for(var s=[],l=0,i=0,n=0;n<e.length;n++){for(var a=0;a<e.length;a++){var o={fields:[[null,null],[null,null]],color:null};if(o.fields[0][0]=l,o.fields[0][1]=i,o.fields[1][0]=l,o.fields[1][1]=i+1,v(o,e)&&p(o,t))for(var c=0,u=Object.entries(r);c<u.length;c++){var d=Object(f.a)(u[c],2),h=d[0];d[1]>0&&(o.color=h,s.push(o))}if(o.fields[1][0]=l+1,o.fields[1][1]=i,v(o,e)&&p(o,t))for(var m=0,g=Object.entries(r);m<g.length;m++){var j=Object(f.a)(g[m],2),b=j[0];j[1]>0&&(o.color=b,s.push(o))}i++}i=0,l++}return s}(r,s,this.state.colorpieces),a=function(e){var t,r=0,s=0,l=Object(h.a)(e);try{for(l.s();!(t=l.n()).done;){var i,n=t.value,a=Object(h.a)(n);try{for(a.s();!(i=a.n()).done;){if(null==i.value){if(r<e.length-1&&null==e[r+1][s])return!1;if(s<n.length-1&&null==e[r][s+1])return!1}++s}}catch(o){a.e(o)}finally{a.f()}s=0,++r}}catch(o){l.e(o)}finally{l.f()}return!0}(r),o=!1,c=null;if(a||0!==n.length){if(a){var u=function(e){var t,r=Array.from(Array(e.length),(function(){return new Array(e.length).fill(!1)})),s=[],l=0,i=0,n=0,a=Object(h.a)(e);try{for(a.s();!(t=a.n()).done;){var o,c=t.value,u=Object(h.a)(c);try{for(u.s();!(o=u.n()).done;){var d=o.value;if(!1===r[l][i]&&null!==d&&d!==e.length){s.push([l,i]);var f=d;for(++n;0!==s.length;){var v=s.pop();v[1]<c.length-1&&e[v[0]][v[1]+1]===f&&!1===r[v[0]][v[1]+1]&&s.push([v[0],v[1]+1]),v[1]>0&&e[v[0]][v[1]-1]===f&&!1===r[v[0]][v[1]-1]&&s.push([v[0],v[1]-1]),v[0]<e.length-1&&e[v[0]+1][v[1]]===f&&!1===r[v[0]+1][v[1]]&&s.push([v[0]+1,v[1]]),v[0]>0&&e[v[0]-1][v[1]]===f&&!1===r[v[0]-1][v[1]]&&s.push([v[0]-1,v[1]]),r[v[0]][v[1]]=!0}}++i}}catch(p){u.e(p)}finally{u.f()}i=0,++l}}catch(p){a.e(p)}finally{a.f()}return n-1}(r);c=u<12?"Less":"More",console.log("The winner is: "+c),console.log("Group count: "+u)}}else s=function(e){var t=[e.length+2,e[0].length+2];return{fields:[t,t],color:0}}(r),console.log("turn skipped"),o=!0;console.log("Found "+n.length+" possible moves!"),this.setState({gameboard:r,colorpieces:i,more_is_next:o?this.state.more_is_next:!this.state.more_is_next,previous_move:s,turn_skipped:o,game_ended:a,winner:c})}else console.log("Placement invalid!");this.resetMoveStage()}}else void 0===t&&this.state.colorpieces[e]>0&&this.setState({move_stage:{selected_color:e,placement:{i:null,j:null}}})}},{key:"resetMoveStage",value:function(){this.setState({move_stage:{selected_color:null,placement:{i:null,j:null}}})}},{key:"renderSquare",value:function(e,t,r){var l=this,i=void 0===r?t:this.state.gameboard[t][r];return Object(s.jsx)(m,{color:i,selected:e,onClick:function(){return l.handleClick(t,r)}})}},{key:"renderColorpickerSquare",value:function(e){var t=this;return Object(s.jsx)(m,{color:e,selected:this.state.move_stage.selected_color===e?"X":null,onClick:function(){return t.handleClick(e)}})}},{key:"renderGameboardSquare",value:function(e,t){var r=this,l=null;return this.state.move_stage.placement.i===e&&this.state.move_stage.placement.j===t&&(l=this.state.move_stage.selected_color),Object(s.jsx)(m,{color:this.state.gameboard[e][t],selected:l,onClick:function(){return r.handleClick(e,t)}})}},{key:"render",value:function(){var e="";e=null==this.state.winner?this.state.turn_skipped?"Player "+(this.state.more_is_next?"More":"Less")+" goes again!":"Next Player: "+(this.state.more_is_next?"More":"Less"):"Player "+this.state.winner+" wins!";for(var t=[],r=0;r<7;r++){for(var l=[],i=0;i<7;i++)l.push(this.renderGameboardSquare(r,i));t.push(Object(s.jsx)("div",{className:"board-row",children:l}))}return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"status",children:e}),Object(s.jsx)("div",{className:"game-board",children:t}),Object(s.jsxs)("div",{className:"colorpicker",children:[this.state.colorpieces.Y?this.renderColorpickerSquare("Y"):this.renderColorpickerSquare("C"),this.state.colorpieces.Y?this.renderColorpickerSquare("Y"):this.renderColorpickerSquare("C")]}),Object(s.jsxs)("div",{className:"colorpicker",children:[this.state.colorpieces.W?this.renderColorpickerSquare("W"):this.renderColorpickerSquare("C"),this.state.colorpieces.W?this.renderColorpickerSquare("W"):this.renderColorpickerSquare("C")]}),Object(s.jsxs)("div",{className:"colorpicker",children:[this.state.colorpieces.R?this.renderColorpickerSquare("R"):this.renderColorpickerSquare("C"),this.state.colorpieces.R?this.renderColorpickerSquare("R"):this.renderColorpickerSquare("C")]}),Object(s.jsxs)("div",{className:"colorpicker",children:[this.state.colorpieces.B?this.renderColorpickerSquare("B"):this.renderColorpickerSquare("C"),this.state.colorpieces.B?this.renderColorpickerSquare("B"):this.renderColorpickerSquare("C")]})]})}}]),r}(c.a.Component),j=function(e){Object(n.a)(r,e);var t=Object(a.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"game",children:Object(s.jsx)(g,{})})}}]),r}(c.a.Component);d.a.render(Object(s.jsx)(j,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.e8886956.chunk.js.map